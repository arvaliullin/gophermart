{
    "name": "gophermart-devcontainer",
    "image": "mcr.microsoft.com/devcontainers/go:1.25-bookworm",
    "containerEnv": {
        "GOTOOLCHAIN": "auto"
    },
    "features": {
        "ghcr.io/devcontainers/features/docker-outside-of-docker:1": {},
        "ghcr.io/devcontainers/features/git:1": {},
        "ghcr.io/devcontainers/features/git-lfs:1.2.5": {},
        "ghcr.io/devcontainers/features/common-utils:2": {},
        "ghcr.io/devcontainers/features/go:1.3.2": {},
        "ghcr.io/guiyomh/features/golangci-lint:0": {}
    },
    "mounts": [
        "source=${localEnv:HOME}/.ssh,target=/home/vscode/.ssh,type=bind,consistency=cached",
        "source=${localWorkspaceFolder}/.devcontainer/.zshrc,target=/home/vscode/.zshrc,type=bind,consistency=cached"
    ],
    "customizations": {
        "vscode": {
            "settings": {},
            "extensions": [
                "golang.go",
                "ms-azuretools.vscode-docker",
                "DavidAnson.vscode-markdownlint",
                "cweijan.vscode-database-client2",
                "ms-vscode.makefile-tools"
            ]
        }
    },
    "forwardPorts": [
        8082,
        8081,
        5432
    ],
    "portsAttributes": {
        "8082": {
            "label": "accrual",
            "onAutoForward": "notify"
        },
        "8081": {
            "label": "adminer",
            "onAutoForward": "notify"
        },
        "5432": {
            "label": "postgres",
            "onAutoForward": "silent"
        }
    },
    "postCreateCommand": "make install-deps"
}